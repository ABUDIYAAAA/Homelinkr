generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                   Int       @id @default(autoincrement())
  email                String    @unique
  name                 String?
  image                String?
  googleId             String?   @unique
  emailVerified        Boolean   @default(false)
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt
  password             String?
  passwordChangedAt    DateTime?
  passwordResetExpires DateTime?
  passwordResetToken   String?
  phone                String?   @unique
  listings             Listing[]
}

model Listing {
  id               Int                       @id @default(autoincrement())
  title            String
  description      String?
  thumbnail        String?
  images           String[]
  userId           Int
  location         Unsupported("geography")?
  country          String
  city             String
  address          String
  price            Float?
  rentalPrice      Float?
  type             String
  listingStatus    String?
  tags             String[]
  amenities        String[]
  reasonForSelling String?
  squareFeet       Int?
  bedrooms         Int?
  bathrooms        Int?
  furnishing       Furnishing?
  createdAt        DateTime                  @default(now())
  updatedAt        DateTime                  @updatedAt
  user             User                      @relation(fields: [userId], references: [id], onDelete: Cascade)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model spatial_ref_sys {
  srid      Int     @id
  auth_name String? @db.VarChar(256)
  auth_srid Int?
  srtext    String? @db.VarChar(2048)
  proj4text String? @db.VarChar(2048)
}

enum Furnishing {
  FURNISHED
  UNFURNISHED
  SEMI_FURNISHED
}
